<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crazy 8s</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Estilo para el placeholder de los divs editables */
        [contenteditable=true]:empty:before {
            content: attr(placeholder);
            pointer-events: none;
            display: block; /* Para que el placeholder ocupe espacio */
            color: #6b7280; /* gris-500 de Tailwind */
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 antialiased">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <!-- Cabecera y Controles -->
        <div class="text-center bg-gray-800 p-6 rounded-2xl shadow-lg mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-white">Crazy 8s</h1>
            <p class="text-gray-400 mt-2 max-w-2xl mx-auto">Tienes 8 minutos para bocetar 8 ideas basadas en las siguientes consignas. ¡Una por recuadro!</p>
            
            <!-- Temporizador -->
            <div class="mt-6">
                <div id="timer-display" class="text-6xl font-bold text-purple-400 tracking-wider">08:00</div>
                <button id="start-timer-btn" class="mt-4 px-8 py-3 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75 transition-transform transform hover:scale-105">
                    Iniciar Temporizador
                </button>
            </div>
            <div id="finished-message" class="hidden mt-4 px-4 py-2 bg-green-900 bg-opacity-50 text-green-300 font-semibold rounded-lg">
                ¡Tiempo! Es hora de compartir tus ideas.
            </div>
        </div>

        <!-- Cuadrícula de Ideas -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
            <!-- Se generan las 8 tarjetas con JS para no repetir código -->
        </div>

    </div>

    <script>
        const grid = document.querySelector('.grid');
        const timerDisplay = document.getElementById('timer-display');
        const startButton = document.getElementById('start-timer-btn');
        const finishedMessage = document.getElementById('finished-message');
        
        let timer;
        let timeInSeconds = 8 * 60; // 8 minutos
        let isTimerRunning = false;

        // --- Datos para las tarjetas ---
        const prompts = [
            "Otro sector: ¿Qué harían en...?",
            "Sin límite de presupuesto",
            "Sin invertir 1 dólar",
            "La peor idea (anti-requisito)",
            "100% digital",
            "100% análoga",
            "Hace 50 años",
            "Dentro de 50 años"
        ];

        const colors = [
            { bg: 'bg-sky-900 bg-opacity-50', text: 'text-sky-300', ring: 'focus:ring-sky-500' },
            { bg: 'bg-rose-900 bg-opacity-50', text: 'text-rose-300', ring: 'focus:ring-rose-500' },
            { bg: 'bg-emerald-900 bg-opacity-50', text: 'text-emerald-300', ring: 'focus:ring-emerald-500' },
            { bg: 'bg-amber-900 bg-opacity-50', text: 'text-amber-300', ring: 'focus:ring-amber-500' },
            { bg: 'bg-indigo-900 bg-opacity-50', text: 'text-indigo-300', ring: 'focus:ring-indigo-500' },
            { bg: 'bg-orange-900 bg-opacity-50', text: 'text-orange-300', ring: 'focus:ring-orange-500' },
            { bg: 'bg-teal-900 bg-opacity-50', text: 'text-teal-300', ring: 'focus:ring-teal-500' },
            { bg: 'bg-slate-700', text: 'text-slate-300', ring: 'focus:ring-slate-500' }
        ];

        // --- Generar los 8 recuadros ---
        for (let i = 1; i <= 8; i++) {
            const card = document.createElement('div');
            const color = colors[i - 1];
            const promptText = prompts[i - 1];

            card.className = 'bg-gray-800 rounded-2xl shadow-md p-5 flex flex-col aspect-square transition-all duration-300';
            card.innerHTML = `
                <div class="flex-shrink-0">
                    <span class="${color.bg} ${color.text} font-bold text-sm px-3 py-1 rounded-full">${i}</span>
                </div>
                <h3 class="font-semibold text-lg mt-3 text-gray-100">${promptText}</h3>
                <div 
                    class="idea-box mt-2 flex-grow w-full h-full text-base outline-none focus:ring-2 ${color.ring} rounded-md p-2" 
                    contenteditable="true" 
                    placeholder="Tu idea aquí...">
                </div>
            `;
            grid.appendChild(card);
        }

        // --- Lógica del Temporizador ---
        function updateDisplay() {
            const minutes = Math.floor(timeInSeconds / 60);
            const seconds = timeInSeconds % 60;
            timerDisplay.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function startTimer() {
            if (isTimerRunning) return;
            isTimerRunning = true;

            startButton.disabled = true;
            startButton.classList.add('opacity-50', 'cursor-not-allowed');
            finishedMessage.classList.add('hidden');
            
            // Sonido de inicio (sutil)
            playNotificationSound(0.1);

            timer = setInterval(() => {
                timeInSeconds--;
                updateDisplay();

                if (timeInSeconds <= 0) {
                    clearInterval(timer);
                    timerDisplay.textContent = "00:00";
                    finishedMessage.classList.remove('hidden');
                    isTimerRunning = false;
                    startButton.disabled = false;
                    startButton.classList.remove('opacity-50', 'cursor-not-allowed');
                    startButton.textContent = "Reiniciar";
                    timeInSeconds = 8 * 60; // Reset for next round
                    // Sonido de finalización
                    playNotificationSound(0.5);
                }
            }, 1000);
        }
        
        function resetTimer() {
            clearInterval(timer);
            isTimerRunning = false;
            timeInSeconds = 8 * 60;
            updateDisplay();
            startButton.textContent = "Iniciar Temporizador";
            startButton.disabled = false;
            startButton.classList.remove('opacity-50', 'cursor-not-allowed');
            finishedMessage.classList.add('hidden');
        }

        startButton.addEventListener('click', () => {
            if (startButton.textContent === "Reiniciar") {
                resetTimer();
            } else {
                startTimer();
            }
        });

        // --- Función para reproducir un sonido de notificación (opcional, pero mejora la UX) ---
        function playNotificationSound(volume = 0.5) {
            // Usamos Tone.js para generar el sonido sin archivos externos
            try {
                const synth = new (window.Tone.Synth)().toDestination();
                synth.triggerAttackRelease("C5", "8n", window.Tone.now(), volume);
            } catch (e) {
                // Si Tone.js no está disponible o falla, simplemente no se reproduce sonido.
                console.log("Audio context not available for sound notification.");
            }
        }

        // Preparamos el display inicial
        updateDisplay();
    </script>
    <!-- Incluimos Tone.js para los efectos de sonido -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
</body>
</html>


